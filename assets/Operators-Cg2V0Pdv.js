import{w as x,x as u,j as e,T as d,y as r,B as o,u as j,A as m,C as a,c as p,D as N,E as f}from"./index-DTDkP3dS.js";import{u as w}from"./useQueryParam-CnjMrcY3.js";import{f as i,o as y,S as b}from"./SearchFilter-BgZJ9vAz.js";import{P as g}from"./pagination-BmPWLSst.js";import{N as T}from"./Navbar-BhOrUXtn.js";import"./date-formatter-DO6EIGl4.js";/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v=x("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.454.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=x("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),k=({index:t,item:s})=>{const{addOperatorToStore:l,deleteOperator:c,users:n}=u();return e.jsxs(d,{children:[e.jsx(r,{className:"flex justify-center",children:n.includes(s)?e.jsx(o,{variant:"destructive",onClick:()=>c(s.id),children:e.jsx(v,{})}):e.jsx(o,{onClick:()=>l(s),children:e.jsx(O,{})})}),e.jsx(r,{className:"text-center",children:t}),e.jsx(r,{className:"text-center",children:s.operator}),e.jsx(r,{className:"text-center",children:i(s.login_at)}),e.jsx(r,{className:"text-center",children:i(s.logout_at)}),e.jsx(r,{className:"text-center",children:`${s.money} TMT`}),e.jsx(r,{className:"text-center",children:s.park})]})},M=()=>{const{t}=j();return e.jsx(m,{className:"bg-green-500 text-white sticky top-0",children:e.jsxs(d,{className:"text-white",children:[e.jsx(a,{className:"text-white text-center",children:t("collect")}),e.jsx(a,{className:"text-white text-center",children:t("no")}),e.jsx(a,{className:"text-white text-center",children:t("user-name")}),e.jsx(a,{className:"text-white text-center",children:t("entertime")}),e.jsx(a,{className:"text-white text-center",children:t("exittime")}),e.jsx(a,{className:"text-white text-center",children:t("bill")}),e.jsx(a,{className:"text-white text-center",children:t("parkno")})]})})},C=t=>{const s=Object.entries(t).sort();return p({queryKey:["operators",...s],queryFn:()=>y.getOperators(t)})},P=()=>{const{getQuery:t}=w(),{data:s}=C({page:Number(t("page")??"1"),limit:10});if(!s)return;const{data:l,...c}=s;return e.jsxs("div",{className:"border rounded-2xl gap-2 flex overflow-hidden flex-col flex-1 relative",children:[e.jsxs(N,{className:"w-full overflow-auto relative mb-10",children:[e.jsx(M,{}),e.jsx(f,{children:l==null?void 0:l.map((n,h)=>e.jsx(k,{index:(c.page-1)*c.limit+h+1,item:n},n.id))})]}),e.jsx(g,{...c})]})},D=()=>e.jsxs("div",{className:"w-full h-full p-6 flex flex-col gap-4",children:[e.jsx(T,{title:"Operators"}),e.jsx(b,{}),e.jsx(P,{})]});export{D as default};
