import{e as p,f as w,z as n,u as f,g as S,a as b,h as v,j as e,F,i as t,k as l,l as c,m as i,n as d,o,S as P,p as y,q as k,r as N,s as C,t as m,B as M,v as V}from"./index-DTDkP3dS.js";const I=()=>p({mutationFn:s=>w.login(s),mutationKey:["login"],onSuccess:()=>{}}),L=n.object({username:n.string().min(2,{message:"Username must be at least 2 characters."}),password:n.string().min(8,{message:"Password must be 8 character"}),parkno:n.string().min(1,{message:"You have to select one"}).optional()}),E=()=>{const{t:s}=f(),r=S({resolver:V(L),defaultValues:{username:"",password:"",parkno:"P3"}}),u=b(),{mutate:h,isError:x}=I(),{refetch:j}=v();function g(a){h(a,{onSuccess:()=>{j().then(()=>{u("/")})}})}return e.jsxs("div",{className:"w-full  h-dvh bg-slate-100 flex-col flex items-center justify-center gap-4",children:[e.jsx("img",{src:"/logo_new.jpg",className:"w-[450px] border  bg-white shadow-md shadow-gray-200 rounded-xl",alt:""}),e.jsx(F,{...r,children:e.jsxs("form",{className:"flex flex-col gap-2 p-5 w-[450px] border  bg-white shadow-md shadow-gray-200 rounded-xl",onSubmit:r.handleSubmit(g),children:[e.jsx(t,{control:r.control,name:"username",render:({field:a})=>e.jsxs(l,{children:[e.jsx(c,{children:s("username")}),e.jsx(i,{children:e.jsx(d,{placeholder:s("username"),...a})}),e.jsx(o,{})]})}),e.jsx(t,{control:r.control,name:"password",render:({field:a})=>e.jsxs(l,{children:[e.jsx(c,{children:s("password")}),e.jsx(i,{children:e.jsx(d,{type:"password",placeholder:s("password"),...a})}),e.jsx(o,{})]})}),e.jsx(t,{control:r.control,name:"parkno",render:({field:a})=>e.jsxs(l,{children:[e.jsx(c,{children:s("parkno")}),e.jsx(i,{children:e.jsxs(P,{onValueChange:a.onChange,value:a.value,defaultValue:"P3",children:[e.jsx(y,{className:"",children:e.jsx(k,{placeholder:"Select a Park"})}),e.jsx(N,{children:e.jsxs(C,{children:[e.jsx(m,{value:"P3",children:"P3"}),e.jsx(m,{value:"P4",children:"P4"})]})})]})}),e.jsx(o,{})]})}),x&&e.jsx(o,{children:s("username-or-password-is-wrong")}),e.jsx(M,{className:"mt-4",type:"submit",children:s("login")})]})})]})};export{E as default};
